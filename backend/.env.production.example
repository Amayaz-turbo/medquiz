NODE_ENV=production
PORT=8080

# PostgreSQL production endpoint (TLS recommended at infra/network level)
DATABASE_URL=postgresql://medquiz_app:<strong-password>@db-prod.internal:5432/medquiz

# Use long random secrets (>= 64 chars) generated from a password manager/HSM.
ACCESS_TOKEN_SECRET=replace-with-64-plus-random-chars
ACCESS_TOKEN_TTL=15m
REFRESH_TOKEN_SECRET=replace-with-64-plus-random-chars
REFRESH_TOKEN_TTL_DAYS=30

# Restrict to exact frontend origin(s), comma-separated.
CORS_ORIGIN=https://app.medquiz.fr

# Keep enabled in production for duel SLA.
DUEL_EXPIRATION_JOB_ENABLED=true
DUEL_EXPIRATION_INTERVAL_SECONDS=60

# Observability and strict SLO guardrails.
METRICS_ENABLED=true
METRICS_AUTH_TOKEN=replace-with-32-plus-random-chars
SLO_AVAILABILITY_TARGET_PCT=99.9
SLO_P95_LATENCY_MS=300
SLO_WINDOW_DAYS=30
HEALTH_DB_TIMEOUT_MS=1000

# Push notifications dispatch worker.
PUSH_NOTIFICATIONS_JOB_ENABLED=true
PUSH_NOTIFICATIONS_INTERVAL_SECONDS=30
PUSH_NOTIFICATIONS_BATCH_SIZE=100
# Real push provider bridge endpoint (internal service) + bearer token.
PUSH_NOTIFICATIONS_WEBHOOK_URL=https://push-gateway.internal/dispatch
PUSH_NOTIFICATIONS_WEBHOOK_TOKEN=replace-with-32-plus-random-chars
PUSH_NOTIFICATIONS_WEBHOOK_TIMEOUT_MS=2500
PUSH_NOTIFICATIONS_MAX_ATTEMPTS=5
PUSH_NOTIFICATIONS_BACKOFF_BASE_SECONDS=30
PUSH_NOTIFICATIONS_BACKOFF_MAX_SECONDS=900

# Notifications admin allowlist for replay endpoints (required in production).
# Comma-separated user IDs (UUID v4).
NOTIFICATIONS_ADMIN_USER_IDS=replace-with-admin-user-uuid-v4

# Optional allowlist for open-text answer management endpoints.
# Comma-separated user IDs (UUID v4). Leave empty to rely on question ownership only.
OPEN_TEXT_EDITOR_USER_IDS=

# Content admin allowlist (required to create new training questions in production).
# Comma-separated user IDs (UUID v4).
TRAINING_CONTENT_EDITOR_USER_IDS=
